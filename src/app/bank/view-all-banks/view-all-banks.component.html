<h3 class="title text-center mt-5 mb-4">All Registered Banks</h3>

<!-- Search Form -->
    <div class="row mb-3 justify-content-center align-items-center">
        <div class="col-md-6">
            <input type="text" class="form-control" placeholder="Search by Account Number" [(ngModel)]="searchTerm"
                (ngModelChange)="applySearchFilter(); updateQueryParams()" />
        </div>
        <div class="col-auto">
            <button class="btn btn-outline-secondary" (click)="resetSearch()" [disabled]="!searchTerm">
                Reset
            </button>
        </div>
    </div>


<div class="container">
    <div class="text-center mb-4">
        <table id="User" class="table table-striped table-bordered table-hover text-center">
            <thead class="thead-dark">
                <tr>
                    <th>Sr No</th>
                    <th>Full Name</th>
                    <th>Abbreviation</th>
                    <th>Operations</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let bank of filteredBanks; let i=index" [class.inactive-user]="!bank.IsActive">
                    <td>{{ i+1 }}</td>
                    <td>
                    <a [routerLink]="['/admin/view-bank', bank.id]" class="text-decoration-none">
                        {{ bank.fullName }}
                    </a>
                    </td>
                    <!-- <td>{{ user.fullName }}</td> -->
                    <td>{{ bank.abbreviation }}</td>
                    <!-- <TD>{{ user.phoneNo}}</TD>
                    <td>{{ user.isAdmin ? 'ADMIN' : 'USER' }}</td>
                    <td>{{ user.totalBalance}}</td> -->

                    <!-- SINGLE Operations Column -->
                    <td>
                        <ng-container *ngIf="bank.isActive; else reviveTemplate">

                            <button class="btn btn-sm btn-warning" title="Disable" (click)="onDisableClick(bank.id)">
                                <i class="fas fa-user-slash"></i>
                            </button>

                            &nbsp;


                            <button class="btn btn-sm btn-primary" title="Edit" (click)="onUpdateClick(bank.id)">
                                <i class="fas fa-edit"></i>
                            </button>

                            &nbsp;

                            <button class="btn btn-sm btn-danger" title="Delete" (click)="onDeleteClick(bank.id)">
                                <i class="fas fa-trash-alt"></i>
                            </button>

                        </ng-container>

                        <ng-template #reviveTemplate>

                            <button class="btn btn-sm btn-success" title="Revive" (click)="onReviveClick(bank.id)">
                                <i class="fas fa-redo-alt"></i>
                            </button>

                            &nbsp;


                            <button class="btn btn-sm btn-secondary" title="Edit (Disabled)" disabled>
                                <i class="fas fa-edit"></i>
                            </button>
                        </ng-template>
                    </td>

                </tr>
            </tbody>
        </table>

        <app-pagination class=" p-0 m-0" [items]="bankData"
            [totalItems]='selectedButtonIndex ? bankCount : totalBankRecords' [limit]="limit" [offset]="offset"
            (pageChange)="changePage($event)" />
    </div>
</div>